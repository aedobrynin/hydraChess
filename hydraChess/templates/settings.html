{% extends "base.html" %}

{% block content %}

<form class="basic-form mt-2" method="POST" enctype="multipart/form-data">
  {{ form.csrf_token }}

  <div class="form-group">
    {{ form.image.label }}<br>
    <div class="input-group">
      <div class="custom-file">
        <input type="file" name="image" class="custom-file-input" id="image">
          <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
      </div>
    </div>

    {% if form.image.errors %}
    <div class="m-0 p-0 mb-2 error-message">
      {{ form.image.errors[0] }}
    </div>
    {% endif %}
  </div>
  {{ form.submit(type="submit", class="btn w-100 submit-button") }}

  {% if message %}
    <div class="alert alert-success mt-2 mb-1" role="alert">
      {{ message }}
    </div>
  {% endif %}

</form>


{% endblock %}

{% block extra_scripts %}
<script>
  $(".custom-file-input").on("change", function() {
      var fileName = $(this).val().split("\\").pop();
      $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
  });
</script>
{% endblock %}
